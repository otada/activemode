"use strict";var strings=null;function popupIE(){toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-center",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"0",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},$.post("/inc/session.php",{action:"setIEPopupShown"}).fail((function(e){console.log("Error: Failed to set IEPopupShown flag!!!",e)})),toastr.warning('<div class="toast-msg">It looks like you are using an older version of Internet Explorer.<br />For the best website experience, please upgrade to the latest browsers.</div><div class="toast-browser"><div class="browser"><img src="/cdn/v2/img/browser-edge.png"><span class="vendor">Edge</span></div><div class="browser"><img src="/cdn/v2/img/browser-chrome.png"><span class="vendor">Chrome</span></div><div class="browser"><img src="/cdn/v2/img/browser-firefox.png"><span class="vendor">Firefox</span></div><div class="browser"><img src="/cdn/v2/img/browser-safari.png"><span class="vendor">Safari</span></div></div>','<div class="toast-title"><i class="fas fa-exclamation-triangle"></i>Your browser is outdated!</div>')}function isPopupShown(){$.post("/inc/session.php",{action:"getIEPopupShown"}).done((function(e){var t=JSON.parse(e);return!("success"!==t.status||!t.data)||(popupIE(),!1)})).fail((function(e){return console.log("Error: Failed to get IEPopupShown flag!!!",e),popupIE(),!1}))}function setLanguage(e){$.post("/inc/session.php",{action:"setLang",lang:e}).done((function(){return!0})).fail((function(e){return console.log("Error: Failed to set user selected language!!!",e),!1}))}function detectOS(){var e=window.navigator.userAgent,t=window.navigator.platform,n=null;return-1!==e.indexOf("Android")||-1!==e.indexOf("CrOS")?n="Android":-1!==["iPhone","iPad","iPod"].indexOf(t)?n="iOS":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?n="Mac OS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?n="Windows":!n&&/Linux/.test(t)&&(n="Linux"),n}function setMobileTable(e){var t=document.querySelector(e);if(t){var n=t.querySelectorAll("thead th"),o=Array.from(n).map((function(e){return e.innerText}));t.querySelectorAll("tbody tr").forEach((function(e){Array.from(e.children).forEach((function(e,t){return e.setAttribute("label",o[t])}))}))}}function getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}$(document).ready((function(){var e=$(window),t=$(".bg-img"),n=$(".bg-color"),o=$(".section"),a=document.querySelector("#mainpage"),i=!!document.documentMode,r=["bg_stock","bg_effect"],l=r[Math.floor(Math.random()*r.length)],s=detectOS(),c=document.querySelector("#license");"iOS"===s||"Android"===s?$(".video-container").append('<video allowfullscreen autoplay loop muted playsinline>\n        <source src="https://d2hakk7asmds57.cloudfront.net/cdn/v2/media/'.concat(l,'_m.mp4">\n      </video>')):$(".video-container").append('<video allowfullscreen autoplay loop muted playsinline>\n        <source src="https://d2hakk7asmds57.cloudfront.net/cdn/v2/media/'.concat(l,'.mp4">\n      </video>')),c||$.post("/inc/session.php",{action:"getLang"}).done((function(e){var t=JSON.parse(e);if("success"===t.status)c||(document.querySelector("#lang-selected").innerText=t.data);else{var n;switch($("html").attr("lang").toLowerCase()){case"kr":case"ko":case"ko-kr":n="한국어";break;case"jp":case"ja":n="日本語";break;case"chs":case"zh-cn":n="简体中文";break;case"cht":case"zh":case"zh-hk":case"zh-tw":case"zh-sg":n="繁体中文";break;default:n="English"}document.querySelector("#lang-selected").innerText=n}})).fail((function(e){console.log("Error: Failed to get user selected language!!!",e)})),$("#lang-selected").on("click",(function(){var e=document.querySelector("#lang-list").querySelectorAll("a");if(i)for(var t=function(t){e[t].addEventListener("click",(function(){document.querySelector("#lang-selected").innerText=e[t].innerText,setLanguage(e[t].innerText)}))},n=0;n<e.length;n++)t(n);else e.forEach((function(e){e.addEventListener("click",(function(){document.querySelector("#lang-selected").innerText=e.innerText,setLanguage(e.innerText)}))}))})),$.post("../inc/strings.php",{action:"getString"}).done((function(e){strings=JSON.parse(e)})).fail((function(e){console.log("[ERROR] Failed to read language strings :: ".concat(e))})),$.validator.addMethod("validEmail",(function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)})),e.on("load",(function(){$("#spinner").addClass("p-hidden"),$(".section").addClass("anim")})),i&&isPopupShown();var d=document.getElementById("wechat-qrcode");if(null!==d){var u=$(document).width();u>=768?tippy("#wechat",{placement:"left",animation:"scale",arrow:!0,trigger:"click",content:d.innerHTML,allowHTML:!0,theme:"light"}):u>420?tippy("#wechat",{placement:"top",animation:"scale",arrow:!0,trigger:"click",content:d.innerHTML,allowHTML:!0,theme:"light"}):tippy("#wechat",{placement:"top",animation:"scale",arrow:!0,trigger:"click",content:d.innerHTML,allowHTML:!0,theme:"light",maxWidth:280})}var g=document.getElementById("wechat-qrcode-press");null!==g&&($(document).width()>420?tippy("#wechat-press",{placement:"top",animation:"scale",arrow:!0,trigger:"click",content:g.innerHTML,allowHTML:!0,theme:"light"}):tippy("#wechat-press",{placement:"top",animation:"scale",arrow:!0,trigger:"click",content:g.innerHTML,allowHTML:!0,theme:"light",maxWidth:280}));if(null!==a){$(window).width()>=360?$("#mainpage").fullpage({menu:"#qmenu",anchors:["hero","features"],verticalCentered:!1,navigation:!0,slidesNavigation:!0,controlArrows:!1,recordHistory:!1,normalScrollElements:".section .scrollable",responsiveWidth:360,responsiveHeight:480,afterRender:function(){if(setInterval((function(){$.fn.fullpage.moveSlideRight(),window.history.replaceState("",document.title,window.location.origin+window.location.pathname+window.location.search)}),4e3),i){var t=$(".section .content .c-columns");t.height(e.height());for(var n=0;n<t.length;n++)t[n].height<=e.height()&&(t[n].style.height="100vh")}},afterResize:function(){$.fn.fullpage.reBuild()},onLeave:function(){o.addClass("transition")},afterLoad:function(){window.history.replaceState("",document.title,window.location.origin+window.location.pathname+window.location.search)}}):$("#mainpage").fullpage({autoScrolling:!1});new Swiper(".swiper-container",{pagination:{el:".swiper-pagination",clickable:!0,clickableClass:".features .items-pagination",hideOnClick:!1},loop:!0,grabCursor:!0,autoplay:!0,autoplayDisableOnInteraction:!1,spaceBetween:30,slidesPerView:1,breakpoints:{800:{slidesPerView:2}}})}for(var p=0;p<t.length;p++){var m=document.querySelector("#beta"),h=document.querySelector("#betaguide"),f=t[p].getAttribute("data-bg-img");t[p].style.backgroundImage='url("'.concat(f,'")'),t[p].style.backgroundRepeat="no-repeat",t[p].style.backgroundPosition="center",t[p].style.backgroundSize="cover",null===h&&null===m||(t[p].style.backgroundSize="98%")}for(var w=0;w<n.length;w++){var v=n[w].getAttribute("data-bg-color");n[w].style.backgroundColor=v}window.addEventListener("orientationchange",(function(){$(window).width()<=420?$(".mobile").css("display","block"):$(".mobile").css("display","none")})),$(window).width()<=420?$(".mobile").css("display","block"):$(".mobile").css("display","none"),null==a?$(window).height()!==$(document).height()?$(".footer").addClass("scrolled"):($(".footer").removeClass("scrolled"),$(document).width()<=430&&$(".footer-left").css("visibility","hidden")):$(document).width()<=430&&$(".footer-left").css("visibility","hidden"),e.on("scroll",(function(){var e=$(window).scrollTop(),t=$(document).height(),n=$(document).width(),o=$(window).height(),a=$(window).height()+e,i=$(".footer"),r=$(".logo"),l=$(".nav-auth"),s=$("#lang-picker");e>20?(i.addClass("scrolled"),(n<=420||o<=420)&&(r.addClass("scrolled"),l.addClass("scrolled"),s.addClass("scrolled"))):(i.removeClass("scrolled"),r.removeClass("scrolled"),l.removeClass("scrolled"),s.removeClass("scrolled")),t-a<20&&(n<=420&&$(".footer-left").css("visibility","hidden"),i.removeClass("scrolled"),r.removeClass("scrolled")),0===e&&i.addClass("scrolled")})),"ontouchstart"in document.documentElement||(document.documentElement.className+=" no-touch"),$(document).ajaxStart((function(){$("#spinner").removeClass("p-hidden")})).ajaxStop((function(){$("#spinner").addClass("p-hidden")})),null!==document.querySelector("#beta-country")&&$("#beta-country").countrySelect({defaultCountry:"us",preferredCountries:["us","kr","jp","id","th"],responsiveDropdown:!0}),$(".form-input, .form-input-textarea").on({"blur input focus":function(){var e=$(this).closest(".form-entry");this.value?e.addClass("filled"):e.removeClass("filled")},focus:function(){var e=$(this).closest(".form-entry");this?e.addClass("filled"):e.removeClass("filled")}}),$("#link-privacy, #nav-privacy").on("click",(function(e){e.preventDefault(),"iOS"===s?$(window.location).attr("href","/privacy/ios/6.x/?lang="+(getParameterByName("lang")?getParameterByName("lang"):"en")):$(window.location).attr("href","/privacy/android/6.x/?lang="+(getParameterByName("lang")?getParameterByName("lang"):"en"))})),$("#link-tos, #nav-tos").on("click",(function(e){e.preventDefault(),"iOS"===s?$(window.location).attr("href","/tos/ios/6.x/?lang="+(getParameterByName("lang")?getParameterByName("lang"):"en")):$(window.location).attr("href","/tos/android/6.x/?lang="+(getParameterByName("lang")?getParameterByName("lang"):"en"))})),document.querySelector(".tbl")&&(setMobileTable(".retention"),setMobileTable(".entrust"))}));